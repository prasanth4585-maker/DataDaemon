<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark AI - System Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0ff;
            overflow: hidden;
            height: 100vh;
        }

        @media (max-width: 768px) {
            body {
                overflow-y: auto;
            }
        }

        .container {
            display: grid;
            grid-template-columns: 250px 1fr 250px;
            grid-template-rows: 80px 1fr;
            height: 100vh;
            gap: 20px;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                grid-template-rows: auto;
                height: auto;
                padding: 10px;
                gap: 10px;
            }
        }

        .header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #0ff;
            padding-bottom: 10px;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 10px;
                padding-bottom: 15px;
            }
        }

        .logo {
            font-size: 32px;
            font-weight: bold;
            text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
            letter-spacing: 3px;
        }

        @media (max-width: 768px) {
            .logo {
                font-size: 24px;
            }
        }

        .datetime {
            text-align: right;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .datetime {
                text-align: center;
                font-size: 12px;
            }
        }

        .left-panel, .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .left-panel, .right-panel {
                grid-column: 1;
                gap: 10px;
            }
            
            .right-panel {
                order: 3;
            }
        }

        .panel {
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #0ff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            position: relative;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, #0ff, transparent);
            border-radius: 10px;
            opacity: 0;
            animation: panelGlow 3s infinite;
            z-index: -1;
        }

        @keyframes panelGlow {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.3; }
        }

        .panel-title {
            font-size: 12px;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 2px;
            color: #0ff;
            text-shadow: 0 0 5px #0ff;
        }

        .circle-stat {
            width: 120px;
            height: 120px;
            margin: 10px auto;
            position: relative;
        }

        .circle-stat svg {
            transform: rotate(-90deg);
        }

        .circle-stat circle {
            fill: none;
            stroke: #0ff;
            stroke-width: 3;
            stroke-dasharray: 314;
            stroke-dashoffset: 314;
            animation: fillCircle 2s ease-out forwards;
            filter: drop-shadow(0 0 5px #0ff);
        }

        @keyframes fillCircle {
            to { stroke-dashoffset: 0; }
        }

        .stat-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px #0ff;
        }

        .center-chat {
            display: flex;
            flex-direction: column;
            background: rgba(0, 255, 255, 0.03);
            border: 2px solid #0ff;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
            overflow: hidden;
            position: relative;
        }

        @media (max-width: 768px) {
            .center-chat {
                grid-column: 1;
                order: 2;
                min-height: 500px;
                max-height: 600px;
            }
        }

        .center-chat::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid #0ff;
            text-align: center;
            background: rgba(0, 255, 255, 0.05);
        }

        .chat-header h2 {
            font-size: 24px;
            text-shadow: 0 0 10px #0ff;
            letter-spacing: 3px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(0, 255, 255, 0.1);
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #0ff;
            border-radius: 4px;
            box-shadow: 0 0 10px #0ff;
        }

        .message {
            padding: 15px;
            border-radius: 10px;
            max-width: 70%;
            animation: messageSlide 0.3s ease-out;
            position: relative;
        }

        @media (max-width: 768px) {
            .message {
                max-width: 85%;
                padding: 12px;
                font-size: 13px;
            }
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            align-self: flex-end;
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid #0ff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .message.bot {
            align-self: flex-start;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #0ff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
        }

        .message::before {
            content: attr(data-sender);
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 5px;
            opacity: 0.7;
        }

        .chat-input-area {
            padding: 20px;
            border-top: 1px solid #0ff;
            background: rgba(0, 255, 255, 0.05);
            display: flex;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .chat-input-area {
                padding: 15px 10px;
                flex-direction: row;
                gap: 8px;
            }
        }

        .chat-input {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #0ff;
            border-radius: 8px;
            padding: 12px 15px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        @media (max-width: 768px) {
            .chat-input {
                padding: 10px;
                font-size: 12px;
            }
        }

        .chat-input:focus {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            background: rgba(0, 0, 0, 0.7);
        }

        .send-btn {
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid #0ff;
            border-radius: 8px;
            padding: 12px 30px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        @media (max-width: 768px) {
            .send-btn {
                padding: 10px 20px;
                font-size: 12px;
                letter-spacing: 1px;
                flex-shrink: 0;
            }
        }

        .send-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
            transform: translateY(-2px);
        }

        .send-btn:active {
            transform: translateY(0);
        }

        .menu-item {
            padding: 10px;
            border-left: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .menu-item:hover {
            border-left-color: #0ff;
            padding-left: 15px;
            text-shadow: 0 0 10px #0ff;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            font-size: 12px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #0ff;
            box-shadow: 0 0 10px #0ff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #0ff;
            border-radius: 50%;
            animation: float 10s infinite;
            box-shadow: 0 0 5px #0ff;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }

        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .login-box {
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #0ff;
            border-radius: 15px;
            padding: 40px;
            width: 400px;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
            animation: loginAppear 0.5s ease-out;
        }

        @media (max-width: 768px) {
            .login-box {
                width: 90%;
                max-width: 350px;
                padding: 30px 20px;
            }
        }

        @keyframes loginAppear {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .login-title {
            font-size: 32px;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 0 0 15px #0ff;
            letter-spacing: 3px;
        }

        .login-subtitle {
            text-align: center;
            font-size: 14px;
            margin-bottom: 30px;
            opacity: 0.7;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .login-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #0ff;
            border-radius: 8px;
            padding: 12px 15px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .login-input:focus {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            background: rgba(0, 0, 0, 0.7);
        }

        .login-btn {
            width: 100%;
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid #0ff;
            border-radius: 8px;
            padding: 15px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        .login-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
            transform: translateY(-2px);
        }

        .divider {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }

        .divider::before,
        .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: #0ff;
        }

        .divider::before {
            left: 0;
        }

        .divider::after {
            right: 0;
        }

        .google-btn {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #0ff;
            border-radius: 8px;
            padding: 15px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .google-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
        }

        .hidden {
            display: none;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .logout-btn {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid #f00;
            border-radius: 5px;
            padding: 5px 15px;
            color: #f00;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-left: 10px;
        }

        .logout-btn:hover {
            background: rgba(255, 0, 0, 0.4);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        .developer-credit {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid #0ff;
            border-radius: 5px;
            padding: 5px 12px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
            z-index: 100;
            opacity: 0.7;
        }

        @media (max-width: 768px) {
            .developer-credit {
                bottom: 10px;
                right: 10px;
                padding: 4px 8px;
                font-size: 8px;
            }
        }

        .developer-credit::before {
            content: '◢';
            margin-right: 5px;
            color: #0ff;
            font-size: 8px;
        }

        .developer-credit::after {
            content: '◣';
            margin-left: 5px;
            color: #0ff;
            font-size: 8px;
        }

        .dev-name {
            font-weight: bold;
            color: #0ff;
        }

        .globe-container {
            width: 100%;
            height: 200px;
            position: relative;
            cursor: grab;
        }

        @media (max-width: 768px) {
            .globe-container {
                height: 250px;
            }
        }

        .globe-container:active {
            cursor: grabbing;
        }

        #globeCanvas {
            width: 100%;
            height: 100%;
        }

        .globe-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .globe-btn {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #0ff;
            border-radius: 5px;
            padding: 5px 10px;
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .globe-btn:hover {
            background: rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <div class="login-overlay" id="loginOverlay">
        <div class="login-box">
            <div class="login-title">◢ DARK AI ◣</div>
            <div class="login-subtitle">Access Restricted - Authentication Required</div>
            
            <form id="emailLoginForm">
                <div class="input-group">
                    <label class="input-label">Email Address</label>
                    <input type="email" class="login-input" id="emailInput" placeholder="user@darkai.sys" required />
                </div>
                <div class="input-group">
                    <label class="input-label">Password</label>
                    <input type="password" class="login-input" id="passwordInput" placeholder="••••••••" required />
                </div>
                <button type="submit" class="login-btn">Access System</button>
            </form>

            <div class="divider">OR</div>

            <button class="google-btn" id="googleLoginBtn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#0ff" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#0ff" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#0ff" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#0ff" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
        </div>
    </div>

    <div class="particles" id="particles"></div>

    <div class="container" id="mainContainer" class="hidden">
        <div class="header">
            <div class="logo">◢ DARK AI ◣</div>
            <div class="user-info" id="userInfo" style="display: none;">
                <span id="userEmail"></span>
                <button class="logout-btn" id="logoutBtn">Logout</button>
            </div>
            <div class="datetime">
                <div id="date"></div>
                <div id="time" style="font-size: 20px; font-weight: bold;"></div>
            </div>
        </div>

        <div class="left-panel">
            <div class="panel">
                <div class="panel-title">System Status</div>
                <div class="circle-stat">
                    <svg width="120" height="120">
                        <circle cx="60" cy="60" r="50" id="statusCircle"></circle>
                    </svg>
                    <div class="stat-value" id="statusValue">100%</div>
                </div>
                <div style="text-align: center; font-size: 12px;" id="statusText">OPTIMAL</div>
            </div>

            <div class="panel">
                <div class="panel-title">System Info</div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span id="aiStatus">AI Core: Online</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot" id="networkDot"></div>
                    <span id="networkSpeed">Network: Measuring...</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span id="securityStatus">Security: Enabled</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span id="cpuUsage">CPU: --</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span id="memoryUsage">Memory: --</span>
                </div>
            </div>

            <div class="panel">
                <div class="panel-title">Global Map</div>
                <div class="globe-container">
                    <canvas id="globeCanvas"></canvas>
                </div>
                <div class="globe-controls">
                    <button class="globe-btn" id="zoomIn">ZOOM +</button>
                    <button class="globe-btn" id="zoomOut">ZOOM -</button>
                    <button class="globe-btn" id="resetGlobe">RESET</button>
                </div>
            </div>
        </div>

        <div class="center-chat">
            <div class="chat-header">
                <h2>DATA DAEMON</h2>
                <div style="font-size: 12px; margin-top: 5px; opacity: 0.7;">Neural Network v4.5</div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot" data-sender="DARK AI">
                    System initialized. How may I assist you today?
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="messageInput" placeholder="Enter your message..." />
                <button class="send-btn" id="sendBtn">SEND</button>
            </div>
        </div>

        <div class="right-panel">
            <div class="panel">
                <div class="panel-title">Quick Access</div>
                <div class="menu-item" data-action="documents">► Documents</div>
                <div class="menu-item" data-action="analysis">► Analysis</div>
                <div class="menu-item" data-action="settings">► Settings</div>
                <div class="menu-item" data-action="database">► Database</div>
                <div class="menu-item" data-action="reports">► Reports</div>
            </div>

            <div class="panel">
                <div class="panel-title">Response Time</div>
                <div class="circle-stat">
                    <svg width="120" height="120">
                        <circle cx="60" cy="60" r="50" id="responseCircle"></circle>
                    </svg>
                    <div class="stat-value" id="responseTime">--ms</div>
                </div>
                <div style="text-align: center; font-size: 12px;" id="responseStatus">MEASURING</div>
            </div>

            <div class="panel">
                <div class="panel-title">Activity Log</div>
                <div id="activityLog" style="font-size: 10px; max-height: 150px; overflow-y: auto;">
                    <div style="padding: 5px; opacity: 0.7;">System initialized...</div>
                </div>
            </div>
        </div>
    </div>

    <div class="developer-credit">
        By <span class="dev-name">Prasanth</span>
    </div>

    <script>
        // System monitoring variables
        let messageCount = 0;
        let systemHealth = 100;
        let lastResponseTime = 0;

        // Activity log function
        function addActivityLog(message) {
            const log = document.getElementById('activityLog');
            const entry = document.createElement('div');
            entry.style.padding = '5px';
            entry.style.borderLeft = '2px solid #0ff';
            entry.style.marginBottom = '5px';
            entry.style.opacity = '0.8';
            const time = new Date().toLocaleTimeString();
            entry.textContent = `[${time}] ${message}`;
            log.insertBefore(entry, log.firstChild);
            
            // Keep only last 10 entries
            while (log.children.length > 10) {
                log.removeChild(log.lastChild);
            }
        }

        // Update system status circle
        function updateSystemStatus() {
            const circle = document.getElementById('statusCircle');
            const value = document.getElementById('statusValue');
            const text = document.getElementById('statusText');
            
            // Calculate health based on various factors
            systemHealth = Math.max(80, 100 - (messageCount * 0.5));
            
            const dashOffset = 314 - (314 * systemHealth / 100);
            circle.style.strokeDashoffset = dashOffset;
            value.textContent = Math.round(systemHealth) + '%';
            
            if (systemHealth >= 90) {
                text.textContent = 'OPTIMAL';
                text.style.color = '#0ff';
            } else if (systemHealth >= 70) {
                text.textContent = 'GOOD';
                text.style.color = '#0fa';
            } else {
                text.textContent = 'MODERATE';
                text.style.color = '#fa0';
            }
        }

        // Update response time circle
        function updateResponseTime(time) {
            const circle = document.getElementById('responseCircle');
            const value = document.getElementById('responseTime');
            const status = document.getElementById('responseStatus');
            
            lastResponseTime = time;
            value.textContent = time + 'ms';
            
            let percentage = Math.min(100, (time / 1000) * 100);
            const dashOffset = 314 - (314 * (100 - percentage) / 100);
            circle.style.strokeDashoffset = dashOffset;
            
            if (time < 100) {
                status.textContent = 'EXCELLENT';
                status.style.color = '#0ff';
            } else if (time < 500) {
                status.textContent = 'GOOD';
                status.style.color = '#0fa';
            } else {
                status.textContent = 'SLOW';
                status.style.color = '#fa0';
            }
        }

        // Simulate CPU and Memory usage
        function updateSystemMetrics() {
            const cpuUsage = 15 + Math.random() * 25;
            const memoryUsage = 40 + Math.random() * 20;
            
            document.getElementById('cpuUsage').textContent = `CPU: ${cpuUsage.toFixed(1)}%`;
            document.getElementById('memoryUsage').textContent = `Memory: ${memoryUsage.toFixed(1)}%`;
        }

        // Update metrics every 3 seconds
        setInterval(updateSystemMetrics, 3000);
        updateSystemMetrics();

        // Quick Access menu functionality
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                const action = this.getAttribute('data-action');
                addActivityLog(`Accessed: ${action}`);
                addMessage(`Opening ${action} module...`, 'bot');
            });
        });

        // Login functionality
        const loginOverlay = document.getElementById('loginOverlay');
        const mainContainer = document.getElementById('mainContainer');
        const emailLoginForm = document.getElementById('emailLoginForm');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const userInfo = document.getElementById('userInfo');
        const userEmail = document.getElementById('userEmail');
        const logoutBtn = document.getElementById('logoutBtn');

        // Check if user is already logged in
        const storedUser = localStorage.getItem('darkAIUser');
        if (storedUser) {
            loginUser(storedUser);
        }

        // Email login
        emailLoginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('emailInput').value;
            addActivityLog(`User login: ${email}`);
            loginUser(email);
        });

        // Google login (simulated)
        googleLoginBtn.addEventListener('click', () => {
            const googleEmail = 'user@gmail.com';
            addActivityLog(`Google OAuth login: ${googleEmail}`);
            loginUser(googleEmail);
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('darkAIUser');
            addActivityLog('User logged out');
            location.reload();
        });

        function loginUser(email) {
            localStorage.setItem('darkAIUser', email);
            userEmail.textContent = email;
            userInfo.style.display = 'flex';
            loginOverlay.classList.add('hidden');
            mainContainer.classList.remove('hidden');
            addActivityLog('System access granted');
            measureNetworkSpeed();
            setInterval(measureNetworkSpeed, 10000);
        }

        // Network speed monitoring with better error handling
        function measureNetworkSpeed() {
            const networkSpeedEl = document.getElementById('networkSpeed');
            const networkDot = document.getElementById('networkDot');
            
            // Try multiple methods for better reliability
            
            // Method 1: Image load test
            const startTime = performance.now();
            const image = new Image();
            const cacheBuster = '?t=' + Date.now() + Math.random();
            
            // Set timeout for the test
            let timeoutId = setTimeout(() => {
                // If it takes too long, try alternative method
                checkNetworkViaFetch();
            }, 5000);
            
            image.onload = function() {
                clearTimeout(timeoutId);
                const endTime = performance.now();
                const duration = endTime - startTime;
                
                if (duration < 5000) {
                    const speedMbps = (1 / (duration / 1000)).toFixed(1);
                    let status, color;
                    
                    if (duration < 100) {
                        status = 'Fast';
                        color = '#0ff';
                    } else if (duration < 300) {
                        status = 'Good';
                        color = '#0fa';
                    } else {
                        status = 'Slow';
                        color = '#fa0';
                    }
                    
                    networkSpeedEl.textContent = `Network: ${speedMbps} Mbps (${status})`;
                    networkDot.style.background = color;
                }
            };
            
            image.onerror = function() {
                clearTimeout(timeoutId);
                checkNetworkViaFetch();
            };
            
            // Try loading a small image from a reliable source
            image.src = 'https://www.google.com/favicon.ico' + cacheBuster;
            
            // Method 2: Fetch API fallback
            function checkNetworkViaFetch() {
                if (navigator.onLine) {
                    fetch('https://www.google.com/favicon.ico?t=' + Date.now(), { 
                        mode: 'no-cors',
                        cache: 'no-store'
                    })
                    .then(() => {
                        networkSpeedEl.textContent = 'Network: Online';
                        networkDot.style.background = '#0ff';
                    })
                    .catch(() => {
                        networkSpeedEl.textContent = 'Network: Limited';
                        networkDot.style.background = '#fa0';
                    });
                } else {
                    networkSpeedEl.textContent = 'Network: Offline';
                    networkDot.style.background = '#f00';
                }
            }
        }

        // Create floating particles
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 10 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
            particlesContainer.appendChild(particle);
        }

        // Update date and time
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('date').textContent = now.toLocaleDateString('en-US', dateOptions);
            document.getElementById('time').textContent = now.toLocaleTimeString('en-US', { hour12: false });
        }
        updateDateTime();
        setInterval(updateDateTime, 1000);

        // Chat functionality
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const chatMessages = document.getElementById('chatMessages');

        const responses = [
            "Processing your request...",
            "Analysis complete. The data suggests interesting patterns.",
            "I understand your query. Let me provide you with the information.",
            "System response: Operation successful.",
            "Scanning database... Results compiled.",
            "Acknowledged. Executing command sequence.",
            "Neural network processing... Task completed.",
            "Affirmative. Your request has been processed.",
            "Data retrieved successfully from the mainframe.",
            "System diagnostics show optimal performance."
        ];

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.setAttribute('data-sender', sender === 'user' ? 'USER' : 'DARK AI');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function sendMessage() {
            const message = messageInput.value.trim();
            if (message) {
                const sendTime = performance.now();
                addMessage(message, 'user');
                messageInput.value = '';
                messageCount++;
                
                addActivityLog(`Message sent: "${message.substring(0, 30)}..."`);
                updateSystemStatus();

                // Simulate AI response after a delay
                setTimeout(() => {
                    const responseDelay = Math.floor(performance.now() - sendTime);
                    updateResponseTime(responseDelay);
                    
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, 'bot');
                    addActivityLog('AI response generated');
                }, 800 + Math.random() * 400);
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Initialize system
        updateSystemStatus();
        updateResponseTime(50);

        // Interactive Globe
        const canvas = document.getElementById('globeCanvas');
        const ctx = canvas.getContext('2d');
        let rotation = 0;
        let isDragging = false;
        let lastX = 0;
        let zoom = 1;
        let rotationSpeed = 0.003;

        // More detailed continent data with realistic shapes
        const continents = [
            // North America - More detailed
            { name: 'North America', color: 'rgba(0, 255, 255, 0.3)', points: [
                [-170, 65], [-165, 68], [-155, 70], [-145, 70], [-135, 68], [-125, 70], [-115, 72], [-105, 73], [-95, 72],
                [-85, 70], [-75, 68], [-68, 65], [-65, 58], [-60, 50], [-62, 45], [-65, 42], [-70, 38], [-75, 35],
                [-82, 30], [-88, 28], [-95, 25], [-100, 20], [-105, 18], [-110, 16], [-115, 20], [-118, 25],
                [-122, 32], [-125, 38], [-128, 45], [-130, 52], [-132, 58]
            ]},
            // South America - More realistic shape
            { name: 'South America', color: 'rgba(0, 255, 255, 0.3)', points: [
                [-82, 12], [-78, 10], [-75, 8], [-72, 5], [-70, 0], [-68, -5], [-65, -12], [-62, -20], [-60, -28],
                [-58, -35], [-60, -42], [-63, -48], [-68, -52], [-72, -54], [-75, -55], [-78, -53], [-80, -48],
                [-82, -42], [-83, -35], [-84, -28], [-85, -20], [-85, -12], [-84, -5], [-83, 2]
            ]},
            // Europe - Detailed
            { name: 'Europe', color: 'rgba(0, 255, 255, 0.3)', points: [
                [-10, 58], [-8, 62], [-5, 65], [0, 68], [5, 70], [10, 71], [15, 70], [20, 68], [25, 66], [30, 65],
                [35, 62], [40, 58], [42, 55], [40, 52], [38, 48], [35, 45], [30, 43], [25, 42], [20, 40], [15, 38],
                [10, 38], [5, 40], [0, 42], [-5, 45], [-8, 50], [-10, 54]
            ]},
            // Africa - Realistic shape
            { name: 'Africa', color: 'rgba(0, 255, 255, 0.3)', points: [
                [-18, 37], [-15, 35], [-10, 33], [-5, 32], [0, 32], [5, 30], [10, 28], [15, 25], [20, 22], [25, 18],
                [30, 15], [35, 10], [40, 5], [45, 0], [48, -5], [50, -10], [50, -15], [48, -20], [45, -25], [42, -28],
                [38, -32], [33, -34], [28, -35], [23, -33], [18, -30], [15, -25], [12, -20], [10, -15], [8, -10],
                [6, -5], [5, 0], [3, 5], [0, 10], [-3, 15], [-8, 20], [-12, 25], [-15, 30]
            ]},
            // Asia - Large and detailed
            { name: 'Asia', color: 'rgba(0, 255, 255, 0.3)', points: [
                [40, 72], [48, 75], [58, 77], [68, 78], [78, 77], [88, 75], [98, 73], [108, 70], [118, 67], [128, 63],
                [135, 58], [140, 53], [145, 48], [148, 43], [150, 38], [148, 32], [145, 28], [140, 22], [135, 18],
                [130, 15], [125, 12], [120, 8], [115, 5], [110, 3], [105, 2], [100, 3], [95, 5], [90, 8], [85, 12],
                [80, 15], [75, 20], [70, 25], [65, 30], [60, 35], [55, 42], [50, 48], [45, 55], [42, 62], [40, 68]
            ]},
            // Australia - Realistic
            { name: 'Australia', color: 'rgba(0, 255, 255, 0.3)', points: [
                [113, -10], [118, -11], [123, -12], [128, -13], [133, -14], [138, -16], [143, -18], [148, -20],
                [152, -24], [153, -28], [152, -32], [150, -36], [147, -38], [143, -39], [138, -38], [133, -37],
                [128, -35], [123, -33], [118, -30], [115, -26], [113, -22], [112, -18], [112, -14]
            ]},
            // Antarctica
            { name: 'Antarctica', color: 'rgba(0, 255, 255, 0.3)', points: [
                [-180, -65], [-150, -68], [-120, -70], [-90, -72], [-60, -73], [-30, -72], [0, -70], [30, -72],
                [60, -73], [90, -72], [120, -70], [150, -68], [180, -65]
            ]}
        ];

        // Many more cities across the world
        const cities = [
            // North America
            { name: 'New York', lon: -74, lat: 40 },
            { name: 'Los Angeles', lon: -118, lat: 34 },
            { name: 'Chicago', lon: -87, lat: 41 },
            { name: 'Toronto', lon: -79, lat: 43 },
            { name: 'Mexico City', lon: -99, lat: 19 },
            { name: 'Miami', lon: -80, lat: 25 },
            { name: 'Vancouver', lon: -123, lat: 49 },
            { name: 'San Francisco', lon: -122, lat: 37 },
            
            // South America
            { name: 'São Paulo', lon: -46, lat: -23 },
            { name: 'Rio de Janeiro', lon: -43, lat: -22 },
            { name: 'Buenos Aires', lon: -58, lat: -34 },
            { name: 'Lima', lon: -77, lat: -12 },
            { name: 'Bogotá', lon: -74, lat: 4 },
            { name: 'Santiago', lon: -70, lat: -33 },
            
            // Europe
            { name: 'London', lon: 0, lat: 51 },
            { name: 'Paris', lon: 2, lat: 48 },
            { name: 'Berlin', lon: 13, lat: 52 },
            { name: 'Madrid', lon: -3, lat: 40 },
            { name: 'Rome', lon: 12, lat: 41 },
            { name: 'Moscow', lon: 37, lat: 55 },
            { name: 'Amsterdam', lon: 4, lat: 52 },
            { name: 'Vienna', lon: 16, lat: 48 },
            { name: 'Stockholm', lon: 18, lat: 59 },
            { name: 'Athens', lon: 23, lat: 37 },
            
            // Africa
            { name: 'Cairo', lon: 31, lat: 30 },
            { name: 'Lagos', lon: 3, lat: 6 },
            { name: 'Johannesburg', lon: 28, lat: -26 },
            { name: 'Nairobi', lon: 36, lat: -1 },
            { name: 'Casablanca', lon: -7, lat: 33 },
            { name: 'Addis Ababa', lon: 38, lat: 9 },
            { name: 'Kinshasa', lon: 15, lat: -4 },
            
            // Asia
            { name: 'Tokyo', lon: 139, lat: 35 },
            { name: 'Beijing', lon: 116, lat: 39 },
            { name: 'Shanghai', lon: 121, lat: 31 },
            { name: 'Mumbai', lon: 72, lat: 19 },
            { name: 'Delhi', lon: 77, lat: 28 },
            { name: 'Bangkok', lon: 100, lat: 13 },
            { name: 'Singapore', lon: 103, lat: 1 },
            { name: 'Seoul', lon: 126, lat: 37 },
            { name: 'Hong Kong', lon: 114, lat: 22 },
            { name: 'Dubai', lon: 55, lat: 25 },
            { name: 'Istanbul', lon: 28, lat: 41 },
            { name: 'Jakarta', lon: 106, lat: -6 },
            { name: 'Manila', lon: 120, lat: 14 },
            { name: 'Tehran', lon: 51, lat: 35 },
            { name: 'Riyadh', lon: 46, lat: 24 },
            { name: 'Karachi', lon: 67, lat: 24 },
            { name: 'Kolkata', lon: 88, lat: 22 },
            { name: 'Chennai', lon: 80, lat: 13 },
            { name: 'Bangalore', lon: 77, lat: 12 },
            
            // Australia & Oceania
            { name: 'Sydney', lon: 151, lat: -33 },
            { name: 'Melbourne', lon: 144, lat: -37 },
            { name: 'Brisbane', lon: 153, lat: -27 },
            { name: 'Perth', lon: 115, lat: -31 },
            { name: 'Auckland', lon: 174, lat: -36 }
        ];

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        function toRadians(deg) {
            return deg * Math.PI / 180;
        }

        function project3D(lon, lat, rot) {
            const lonRad = toRadians(lon) + rot;
            const latRad = toRadians(lat);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(canvas.width, canvas.height) / 2.5 * zoom;

            const x = centerX + radius * Math.cos(latRad) * Math.sin(lonRad);
            const y = centerY - radius * Math.sin(latRad);
            const z = radius * Math.cos(latRad) * Math.cos(lonRad);

            return { x, y, z, visible: z > 0 };
        }

        function drawGlobe() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(canvas.width, canvas.height) / 2.5 * zoom;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw outer glow
            const gradient = ctx.createRadialGradient(centerX, centerY, radius * 0.8, centerX, centerY, radius * 1.2);
            gradient.addColorStop(0, 'rgba(0, 255, 255, 0.1)');
            gradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius * 1.2, 0, Math.PI * 2);
            ctx.fill();

            // Draw ocean (dark background)
            ctx.fillStyle = 'rgba(0, 20, 40, 0.9)';
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.fill();

            // Draw continents with better rendering
            continents.forEach(continent => {
                const projectedPoints = continent.points.map(([lon, lat]) => project3D(lon, lat, rotation));
                
                const visiblePoints = projectedPoints.filter(p => p.visible);
                if (visiblePoints.length > 2) {
                    ctx.fillStyle = continent.color;
                    ctx.strokeStyle = 'rgba(0, 255, 255, 0.5)';
                    ctx.lineWidth = 0.5;
                    ctx.beginPath();
                    
                    let started = false;
                    projectedPoints.forEach((point, i) => {
                        if (point.visible) {
                            if (!started) {
                                ctx.moveTo(point.x, point.y);
                                started = true;
                            } else {
                                ctx.lineTo(point.x, point.y);
                            }
                        }
                    });
                    
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                }
            });

            // Draw globe sphere outline
            ctx.strokeStyle = '#0ff';
            ctx.lineWidth = 2;
            ctx.shadowColor = '#0ff';
            ctx.shadowBlur = 10;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.stroke();
            ctx.shadowBlur = 0;

            // Draw latitude lines
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.15)';
            ctx.lineWidth = 0.5;
            for (let i = -3; i <= 3; i++) {
                if (i === 0) continue; // Skip equator, draw it separately
                ctx.beginPath();
                const y = centerY + (radius * i / 3);
                const ellipseRadius = Math.sqrt(Math.max(0, radius * radius - (radius * i / 3) ** 2));
                ctx.ellipse(centerX, y, ellipseRadius, ellipseRadius * 0.3, 0, 0, Math.PI * 2);
                ctx.stroke();
            }

            // Draw longitude lines
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.15)';
            for (let i = 0; i < 12; i++) {
                const angle = (i * Math.PI / 6) + rotation;
                ctx.beginPath();
                ctx.ellipse(centerX, centerY, radius * Math.abs(Math.cos(angle)), radius, Math.PI / 2, 0, Math.PI * 2);
                ctx.stroke();
            }

            // Draw equator (highlighted)
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.3)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.ellipse(centerX, centerY, radius, radius * 0.3, 0, 0, Math.PI * 2);
            ctx.stroke();

            // Draw cities with popup effect
            cities.forEach(city => {
                const pos = project3D(city.lon, city.lat, rotation);
                
                if (pos.visible && pos.z > radius * 0.2) { // Only show cities on front half
                    // Calculate size based on z-depth for 3D effect
                    const depthScale = Math.min(1, pos.z / radius);
                    const markerSize = 2 + depthScale * 1.5;
                    
                    // Draw marker dot
                    ctx.fillStyle = '#0ff';
                    ctx.shadowColor = '#0ff';
                    ctx.shadowBlur = 8;
                    ctx.beginPath();
                    ctx.arc(pos.x, pos.y, markerSize, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;

                    // Draw pulse ring
                    const pulseSize = 4 + Math.sin(Date.now() / 300 + city.lat) * 2;
                    ctx.strokeStyle = `rgba(0, 255, 255, ${0.4 * depthScale})`;
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.arc(pos.x, pos.y, pulseSize * depthScale, 0, Math.PI * 2);
                    ctx.stroke();

                    // Draw city name (only for major cities or when zoomed)
                    if (depthScale > 0.7) {
                        ctx.fillStyle = `rgba(0, 255, 255, ${0.8 * depthScale})`;
                        ctx.font = `${8 + zoom}px Courier New`;
                        ctx.shadowColor = '#000';
                        ctx.shadowBlur = 3;
                        ctx.fillText(city.name, pos.x + 6, pos.y - 4);
                        ctx.shadowBlur = 0;
                    }
                }
            });

            rotation += rotationSpeed;
            requestAnimationFrame(drawGlobe);
        }

        drawGlobe();

        // Globe controls
        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            lastX = e.clientX;
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastX;
                rotation += deltaX * 0.01;
                lastX = e.clientX;
            }
        });

        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        document.getElementById('zoomIn').addEventListener('click', () => {
            zoom = Math.min(zoom + 0.2, 2);
        });

        document.getElementById('zoomOut').addEventListener('click', () => {
            zoom = Math.max(zoom - 0.2, 0.5);
        });

        document.getElementById('resetGlobe').addEventListener('click', () => {
            zoom = 1;
            rotation = 0;
            rotationSpeed = 0.005;
        });
    </script>
</body>
</html>